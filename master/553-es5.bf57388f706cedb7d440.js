!function(){"use strict";function t(n,e,r){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(e):i.value}})(n,e,r||n)}function n(t,e){return(n=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,e)}function e(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var e,i=o(t);if(n){var s=o(this).constructor;e=Reflect.construct(i,arguments,s)}else e=i.apply(this,arguments);return r(this,e)}}function r(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function s(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,n,e){return n&&s(t.prototype,n),e&&s(t,e),t}(self.webpackChunkng_vcl=self.webpackChunkng_vcl||[]).push([[553],{68553:function(r,s,u){u.r(s),u.d(s,{AlertDemoModule:function(){return x},demo:function(){return C}});var c=u(16274),a=u(95454),f=u(36196),h=u(62518),b=u(93948),p=u(6006),m=u(86790),g=function(){function t(n,e){i(this,t),this.notifier=n,this.source=e}return l(t,[{key:"call",value:function(t,n){return n.subscribe(new y(t,this.notifier,this.source))}}]),t}(),y=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(u,r);var s=e(u);function u(t,n,e){var r;return i(this,u),(r=s.call(this,t)).notifier=n,r.source=e,r}return l(u,[{key:"error",value:function(n){if(!this.isStopped){var e=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{e=new p.xQ;try{var s;r=(0,this.notifier)(e)}catch(s){return t(o(u.prototype),"error",this).call(this,s)}i=(0,m.ft)(r,new m.IY(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=r,this.retriesSubscription=i,e.next(n)}}},{key:"_unsubscribe",value:function(){var t=this.errors,n=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),n&&(n.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}},{key:"notifyNext",value:function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}]),u}(m.Ds),d=u(32812),w=u(14089),A=u(84271),v=u(57120);function T(t,n){return new b.y(function(e){setTimeout(function(){("function"==typeof n?n():!!n)?e.error(t):(e.next(t),e.complete())},1e3)})}var B,k=((B=function(){function t(n){i(this,t),this.alert=n}return l(t,[{key:"message",value:function(){this.alert.alert("A message")}},{key:"messageWithTitle",value:function(){this.alert.alert("A message",{title:"A title"})}},{key:"info",value:function(){this.alert.info("This is an information",{title:"An information"})}},{key:"success",value:function(){this.alert.success("You are successful",{title:"A success"})}},{key:"warning",value:function(){this.alert.warning("This is a warning",{title:"A warning"})}},{key:"error",value:function(){this.alert.error("This is an error",{title:"An error"})}},{key:"htmlMessage",value:function(){this.alert.alert('Use <i>as much<i> <a href="//www.w3schools.com/html/">HTML</a> as you <b>like</b>',{html:!0})}},{key:"custom",value:function(){this.alert.open({text:"This is a bit customized...",title:"Information",type:f.NK9.Info,showCloseButton:!0,showCancelButton:!0,confirmButtonClass:"suggestive",confirmButtonPrepIcon:"fas:bolt",cancelButtonColor:"orange",customClass:"scale130p"})}},{key:"question",value:function(){var t=this;this.alert.open({text:"Do you really want to delete the file?",title:"Delete file?",type:f.NK9.Question,showCloseButton:!0,showCancelButton:!0,cancelButtonLabel:"No",confirmButtonLabel:"Yes"}).subscribe(function(n){"confirm"===n.action?t.alert.success("File deleted"):t.alert.error("Reason: "+n.action,{title:"File not deleted"})})}},{key:"async",value:function(){var t=this;this.alert.open({text:"Determine your user agent?",confirmAction:T(window.navigator.userAgent),showCancelButton:!0}).subscribe(function(n){"confirm"===n.action&&t.alert.info(n.value,{title:"Your user agent"})})}},{key:"inputText",value:function(){var t=this;this.alert.open({text:"What is your name?",input:f.kw5.Text,confirmButtonLabel:"Next",inputValidator:function(t){if("string"!=typeof t||t.length<2)throw new Error("Invalid name!");return!0}}).subscribe(function(n){"confirm"===n.action&&t.alert.info("Hello "+n.value)})}},{key:"retry",value:function(){var t=this,n=0,e=T((new Date).toLocaleTimeString(),function(){return++n<=1}).pipe(function(t){return function(n){return n.lift(new g(t,n))}}(function(n){return n.pipe((0,d.w)(function(n){return t.alert.open({text:"Retry?",type:f.NK9.Warning,showCancelButton:!0,closeOnBackdropClick:!1,closeOnEscape:!1}).pipe((0,w.b)(function(t){if("cancel"===t.action)throw new Error}))}))}));this.alert.open({text:"Show current time? (will fail the first time)",showCancelButton:!0,confirmAction:e}).subscribe(function(n){t.alert.info(n.value,{title:"Time"})})}}]),t}()).\u0275fac=function(t){return new(t||B)(A.Y36(f.c9N))},B.\u0275cmp=A.Xpm({type:B,selectors:[["ng-component"]],decls:48,vars:0,consts:[["vcl-button","",3,"click"]],template:function(t,n){1&t&&(A.TgZ(0,"button",0),A.NdJ("click",function(){return n.message()}),A._uU(1,"A message"),A.qZA(),A._UZ(2,"br"),A._UZ(3,"br"),A.TgZ(4,"button",0),A.NdJ("click",function(){return n.messageWithTitle()}),A._uU(5,"A title and a message"),A.qZA(),A._UZ(6,"br"),A._UZ(7,"br"),A.TgZ(8,"button",0),A.NdJ("click",function(){return n.info()}),A._uU(9,"An info"),A.qZA(),A._UZ(10,"br"),A._UZ(11,"br"),A.TgZ(12,"button",0),A.NdJ("click",function(){return n.success()}),A._uU(13,"A success"),A.qZA(),A._UZ(14,"br"),A._UZ(15,"br"),A.TgZ(16,"button",0),A.NdJ("click",function(){return n.warning()}),A._uU(17,"A warning"),A.qZA(),A._UZ(18,"br"),A._UZ(19,"br"),A.TgZ(20,"button",0),A.NdJ("click",function(){return n.error()}),A._uU(21,"An error"),A.qZA(),A._UZ(22,"br"),A._UZ(23,"br"),A.TgZ(24,"button",0),A.NdJ("click",function(){return n.htmlMessage()}),A._uU(25,"A html message"),A.qZA(),A._UZ(26,"br"),A._UZ(27,"br"),A.TgZ(28,"button",0),A.NdJ("click",function(){return n.custom()}),A._uU(29,"A custom info message"),A.qZA(),A._UZ(30,"br"),A._UZ(31,"br"),A.TgZ(32,"button",0),A.NdJ("click",function(){return n.question()}),A._uU(33,"A question"),A.qZA(),A._UZ(34,"br"),A._UZ(35,"br"),A.TgZ(36,"button",0),A.NdJ("click",function(){return n.async()}),A._uU(37,"An async request"),A.qZA(),A._UZ(38,"br"),A._UZ(39,"br"),A.TgZ(40,"button",0),A.NdJ("click",function(){return n.retry()}),A._uU(41,"Retrying an async request"),A.qZA(),A._UZ(42,"br"),A._UZ(43,"br"),A.TgZ(44,"button",0),A.NdJ("click",function(){return n.inputText()}),A._uU(45,"A text input"),A.qZA(),A._UZ(46,"br"),A._UZ(47,"br"))},directives:[v.r],encapsulation:2}),B);function C(){return{label:"Alert",tabs:{Demo:k,"README.md":{type:"md",content:"# vcl-alert\n\nBetter javascript alert()\n\n## Usage\n\n```ts\n@Component({ ... })\nexport class MyComponent {\n\n  constructor(private alert: AlertService) {}\n\n  message() {\n    this.alert.success('Done!');\n  }\n\n  deleteFile() {\n    this.alert.open({\n      text: 'Do you really want to delete the file?',\n      title: 'Delete file',\n      type: AlertType.Question,\n      showCloseButton: true,\n      showCancelButton: true,\n      cancelButtonLabel: 'No',\n      confirmButtonLabel: 'Yes'\n    }).subscribe((result) => {\n      if (result.action === 'confirm') {\n        this.alert.success('File deleted');\n      } else {\n        this.alert.error('File not deleted');\n      }\n    });\n  }\n\n}\n```\n\n### Examples\n\n```ts\n// Simple message\nthis.alert.success('A message');\n\n// Message with a title\nthis.alert.info('A message', {\n  title: 'A title'\n});\n\n// HTML Message\nthis.alert.open({\n  text: `Use <i>as much<i> <a href=\"//www.w3schools.com/html/\">HTML</a> as you <b>like</b>`.\n  html: true\n});\n\n// Customized info message\nthis.alert.open({\n  title: 'Information',\n  text: 'This is a bit customized...',\n  type: AlertType.Info,\n  showCloseButton: true,\n  showCancelButton: true,\n  confirmButtonClass: 'vclSuggestive',\n  confirmButtonPrepIcon: 'fas:bolt',\n  cancelButtonColor: 'orange',\n  customClass: 'vclScale130p',\n});\n\n// Confirmation\nthis.alert.open({\n  title: 'Delete file',\n  text: 'Do you really want to delete the file?',\n  type: AlertType.Question,\n  showCloseButton: true,\n  showCancelButton: true,\n  cancelButtonLabel: 'No',\n  confirmButtonLabel: 'Yes'\n}).subscribe((result) => {\n  if (result.action === 'confirm') {\n    this.alert.success('File deleted');\n  } else {\n    this.alert.error('File not deleted');\n  }\n});\n\n// Handling async data\nthis.alert.open({\n  text: 'Fetch data?',\n  confirmAction: this.http.get('/foo/data'),\n  showCancelButton: true\n}).subscribe(result => {\n  if (result.action === 'confirm') {\n    this.alert.info(result.value, { title: 'Your foo data' });\n  } else if (result.action === 'error') {\n    this.alert.error(err, { title: 'Could not fetch data' });\n  }\n});\n\n// With an input element\nthis.alert.open({\n  text: 'What is your name?',\n  input: AlertInput.Text,\n  confirmButtonLabel: 'Next',\n  inputValidator: (value) => {\n    if (typeof value !== 'string' || value.length < 2) {\n      throw 'This is not your name!';\n    }\n    return true;\n  }\n}).subscribe(result => {\n  this.alert.info('Hello ' + result.value);\n});\n```\n\n### Some helper methods\n\n```ts\nalert(text: string, opts?: AlertOptions); // Just the message\ninfo(text: string, opts?: AlertOptions); // Message with AlertType.Info\nsuccess(text: string, opts?: AlertOptions); // Message with AlertType.Success\nwarning(text: string, opts?: AlertOptions); // Message with AlertType.Warning\nerror(text: string, opts?: AlertOptions); // Message with AlertType.Error\nquestion(text: string, opts?: AlertOptions); // Message with AlertType.Question and showCancelButton=true\n```\n\n### API\n\n#### Alert Attributes\n\nAll attributes are optional\n\n| Name                    | Type           | Default         | Description\n| ----------------------- | -------------- | --------------- | --------------\n| `text`                    | string         |                 | The main message\n| `title`                   | string         |                 | A title\n| `html`                    | boolean        | false           | Treats the main message as html when `true`\n| `type`                    | AlertType      | None            | The type. Defines color and icon.\n| `modal`                   | boolean        | true            | Allow closing via ESC and offclick if true\n| `customClass`             | string         |                 | A custom css class for the alert modal\n| `showConfirmButton`       | boolean        | true            | Show the confirmation button\n| `showCancelButton`        | boolean        | false           | Show the cancel button\n| `showCloseButton`         | boolean        | false           | Show the close button\n| `confirmButtonLabel`      | string         | 'OK'            | Changes the confirm button label\n| `confirmButtonClass`      | string         | 'emphasized'    | Adds a class to the confirm button\n| `confirmButtonPrepIcon`   | string         |                 | icon to be prepended to the confirm button label\n| `confirmButtonAppIcon`    | string         |                 | same as `confirmButtonPrepIcon`, but appended\n| `cancelButtonLabel`       | string         | 'Cancel'        | Changes the cancel button label\n| `cancelButtonClass`       | string         | 'danger'        | Adds a class to the cancel button\n| `cancelButtonPrepIcon`    | string         |                 | icon to be prepended to the cancel button label\n| `cancelButtonAppIcon`     | string         |                 | same as `cancelButtonPrepIcon`, but appended\n| `cancelButtonThrowsError` | boolean        |                 | Throw an error instead of passing a result on cancel\n| `confirmAction`           | Observable     |                 | Enables loader and subscribes to observable. Closes alert when the observable completes or errors.\n| `input`                   | AlertInput     | None            | Input element\n| `inputValue`              | any            |                 | Default value for the input\n| `inputPlaceholder`        | string         |                 | A placeholder. Shown in the input element when using AlertInput.Text\n| `inputValidator`          | function       |                 | Input validator callback\n\n#### Enums\n\n```ts\nexport enum AlertType {\n  None,\n  Question,\n  Info,\n  Success,\n  Warning,\n  Error\n}\n\nexport enum AlertInput {\n  None,\n  Text\n}\n```\n"},"demo.component.html":{type:"html",content:u(860)},"demo.component.ts":{type:"ts",content:u(95230)}}}}var x=function(){var t=function t(){i(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=A.oAB({type:t}),t.\u0275inj=A.cJS({imports:[[c.ez,h.l,f.Euc,f.V4c,a.Bz.forChild([{path:"",component:h.z,data:{demo:C}}])]]}),t}()},860:function(t,n,e){e.r(n),n.default='<button vcl-button (click)="message()">A message</button><br><br>\n<button vcl-button (click)="messageWithTitle()">A title and a message</button><br><br>\n<button vcl-button (click)="info()">An info</button><br><br>\n<button vcl-button (click)="success()">A success</button><br><br>\n<button vcl-button (click)="warning()">A warning</button><br><br>\n<button vcl-button (click)="error()">An error</button><br><br>\n<button vcl-button (click)="htmlMessage()">A html message</button><br><br>\n<button vcl-button (click)="custom()">A custom info message</button><br><br>\n<button vcl-button (click)="question()">A question</button><br><br>\n<button vcl-button (click)="async()">An async request</button><br><br>\n<button vcl-button (click)="retry()">Retrying an async request</button><br><br>\n<button vcl-button (click)="inputText()">A text input</button><br><br>\n'},95230:function(t,n,e){e.r(n),n.default="import { Observable } from 'rxjs';\nimport { AlertService, AlertType, AlertInput } from '@vcl/ng-vcl';\nimport { Component } from '@angular/core';\nimport { retryWhen, switchMap, tap } from 'rxjs/operators';\n\nfunction createAsyncResult(data: any, error?: boolean | (() => (any))): Observable<any> {\n  return new Observable(observer => {\n    setTimeout(() => {\n      let err;\n      if (typeof error === 'function') {\n        err = error();\n      } else {\n        err = !!error;\n      }\n\n      if (err) {\n        observer.error(data);\n      } else {\n        observer.next(data);\n        observer.complete();\n      }\n    }, 1000);\n  });\n}\n\n@Component({\n  templateUrl: 'demo.component.html'\n})\nexport class AlertDemoComponent {\n\n  constructor(private alert: AlertService) {}\n\n  message() {\n    this.alert.alert('A message');\n  }\n\n  messageWithTitle() {\n    this.alert.alert('A message', {\n      title: 'A title'\n    });\n  }\n\n  info() {\n    this.alert.info('This is an information', {\n      title: 'An information'\n    });\n  }\n\n  success() {\n    this.alert.success('You are successful', {\n      title: 'A success'\n    });\n  }\n\n  warning() {\n    this.alert.warning('This is a warning', {\n      title: 'A warning'\n    });\n  }\n\n  error() {\n    this.alert.error('This is an error', {\n      title: 'An error'\n    });\n  }\n\n  htmlMessage() {\n    this.alert.alert(`Use <i>as much<i> <a href=\"//www.w3schools.com/html/\">HTML</a> as you <b>like</b>`, {\n      html: true\n    });\n  }\n\n  custom() {\n    this.alert.open({\n      text: 'This is a bit customized...',\n      title: 'Information',\n      type: AlertType.Info,\n      showCloseButton: true,\n      showCancelButton: true,\n      confirmButtonClass: 'suggestive',\n      confirmButtonPrepIcon: 'fas:bolt',\n      cancelButtonColor: 'orange',\n      customClass: 'scale130p',\n    });\n  }\n\n  question() {\n    this.alert.open({\n      text: 'Do you really want to delete the file?',\n      title: 'Delete file?',\n      type: AlertType.Question,\n      showCloseButton: true,\n      showCancelButton: true,\n      cancelButtonLabel: 'No',\n      confirmButtonLabel: 'Yes'\n    }).subscribe((result) => {\n      if (result.action === 'confirm') {\n        this.alert.success('File deleted');\n      } else {\n        this.alert.error('Reason: ' + result.action , { title: 'File not deleted' });\n      }\n    });\n  }\n\n  async() {\n    this.alert.open({\n      text: 'Determine your user agent?',\n      confirmAction: createAsyncResult(window.navigator.userAgent),\n      showCancelButton: true\n    }).subscribe(result => {\n      if (result.action === 'confirm') {\n        this.alert.info(result.value, {\n          title: 'Your user agent'\n        });\n      }\n    });\n  }\n\n  inputText() {\n    this.alert.open({\n      text: 'What is your name?',\n      input: AlertInput.Text,\n      confirmButtonLabel: 'Next',\n      inputValidator: (value) => {\n        if (typeof value !== 'string' || value.length < 2) {\n          throw new Error('Invalid name!');\n        }\n        return true;\n      }\n    }).subscribe(result => {\n      if (result.action === 'confirm') {\n        this.alert.info('Hello ' + result.value);\n      }\n    });\n  }\n\n  retry() {\n    // This fake async request will fail the first time\n    let fails = 0;\n    const fakeAsync = createAsyncResult(new Date().toLocaleTimeString(), () => ++fails <= 1);\n\n    // Add a retry routine using an alert\n    const fakeAsyncWithRetries = fakeAsync.pipe(\n      retryWhen(errors => {\n        return errors.pipe(switchMap(err => {\n          return this.alert.open({\n            text: 'Retry?',\n            type: AlertType.Warning,\n            showCancelButton: true,\n            closeOnBackdropClick: false,\n            closeOnEscape: false\n          }).pipe(tap(result => {\n            if (result.action === 'cancel') {\n              throw new Error();\n            }\n          }));\n        }));\n      }));\n\n    this.alert.open({\n      text: 'Show current time? (will fail the first time)',\n      showCancelButton: true,\n      confirmAction: fakeAsyncWithRetries,\n    }).subscribe(result => {\n      this.alert.info(result.value, { title: 'Time' });\n    });\n  }\n\n}\n"}}])}();